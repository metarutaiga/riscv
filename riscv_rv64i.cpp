//==============================================================================
// The RISC-V Instruction Set Manual
// Volume I: Unprivileged ISA
// Document Version 20191213
// December 13, 2019
//==============================================================================

#include "riscv_cpu.h"

//------------------------------------------------------------------------------
void riscv_cpu::LWU()
{
    x[rd] = *(uint32_t*)(x[rs1] + simmI());
}
//------------------------------------------------------------------------------
void riscv_cpu::LD()
{
    x[rd] = *(int64_t*)(x[rs1] + simmI());
}
//------------------------------------------------------------------------------
void riscv_cpu::SD()
{
    *(uint64_t*)(x[rs1] + simmI()) = (uint64_t)x[rs2];
}
//------------------------------------------------------------------------------
void riscv_cpu::ADDIW()
{
    x[rd] = (int32_t)(x[rs1] + simmI());
}
//------------------------------------------------------------------------------
void riscv_cpu::SLLIW()
{
    x[rd] = (int32_t)((uint32_t)x[rs1] << simmI());
}
//------------------------------------------------------------------------------
void riscv_cpu::SRLIW()
{
    x[rd] = (int32_t)((uint32_t)x[rs1] >> simmI());
}
//------------------------------------------------------------------------------
void riscv_cpu::SRAIW()
{
    x[rd] = (int32_t)((int32_t)x[rs1] >> simmI());
}
//------------------------------------------------------------------------------
void riscv_cpu::ADDW()
{
    x[rd] = (int32_t)(x[rs1] + x[rs2]);
}
//------------------------------------------------------------------------------
void riscv_cpu::SUBW()
{
    x[rd] = (int32_t)(x[rs1] - x[rs2]);
}
//------------------------------------------------------------------------------
void riscv_cpu::SLLW()
{
    x[rd] = (int32_t)((uint32_t)x[rs1] << x[rs2]);
}
//------------------------------------------------------------------------------
void riscv_cpu::SRLW()
{
    x[rd] = (int32_t)((uint32_t)x[rs1] >> x[rs2]);
}
//------------------------------------------------------------------------------
void riscv_cpu::SRAW()
{
    x[rd] = (int32_t)((int32_t)x[rs1] >> x[rs2]);
}
//------------------------------------------------------------------------------
